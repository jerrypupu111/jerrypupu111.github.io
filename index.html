<html>
<head>
	<title>ONETAIWAN產生器</title>
	<meta charset='utf-8'>
	<meta property="og:type" content="article" />
	<meta property="og:url" content="http://jerrypupu111.github.io"/>
	<meta property="og:title" content="ONETAIWAN 產生器"/>
	<meta property="og:description" content="Is it good to use? 謀哩每笑用跨賣喔"/>
	<meta property="og:image" content="http://jerrypupu111.github.io/title.png"/>
	<meta property="fb:app_id" content="1514218208899524"/>

	<link rel="stylesheet" href="index.css" />
	<script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
	<script src = "js/fabric.min.js"></script>

	<script src = 'js/script.js'></script>
	<script src = 'js/font.js'></script>
	<script src = "js/image.js"></script>
	<script src = "js/event.js"></script>
	
	

 	<script>
	  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	  ga('create', 'UA-69645811-1', 'auto');
	  ga('send', 'pageview');

	</script>
</head>
<body>
<table>
<tr>
<td>
<img class="title" src="title.png" alt="">
</td>
<td>
<div class="fb-page" data-href="https://www.facebook.com/onetaiwangen/" data-height="400"  data-small-header="false" data-adapt-container-width="true" data-hide-cover="false" data-show-facepile="true" data-show-posts="true"><div class="fb-xfbml-parse-ignore"><blockquote cite="https://www.facebook.com/onetaiwangen/"><a href="https://www.facebook.com/onetaiwangen/">ONE Taiwan 產生器</a></blockquote></div></div>
</td>
</tr>
</table>

<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- auto1 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-5054097744583766"
     data-ad-slot="4646217530"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>


<header>

<p>注意!! 目前還無法使用FB分享功能!!</p>
<p>點擊產生圖案後跳出頁面，在圖片按下右鍵，點選另存圖片或複製圖片即可貼在FB塗鴉牆上</p>
<h2>使用說明</h2>
<li>點選任何物件都可以用滑鼠拖曳來移動位置</li>
<li>拖曳四個角可以放大縮小</li>	
<li>方向上下鍵可調整物件在圖層的順序</li>
<li>拖曳可框住以選擇複數物件</li>
<li>按delete或backspace可刪除物件</li>
</header>


<div class="fb-login-button" data-max-rows="1" data-size="xlarge" data-show-faces="false" data-auto-logout-link="false" onlogin = "checklogin()">FB登入</div>

<div class="main">
	<table>
	<td>
	<div class="side-bar">
		<li>圖片大小：</li>
		<div class="group">

			寬：<input type="number" class="number" max='2048' id="canvas-width" value="800">
			長：<input type="number" class="number" max='2048' id="canvas-height" value="800">
		</div>
		<li>新增物件：</li>
		<div class="new-area group">
			<p><button class="large-btn" id="add-normal-text">新增一般文字</button><button class="large-btn" id="add-color-text">新增彩色文字</button></p>
			<button onclick="addPeriod();">左邊的句點</button>
			<p>點擊添加圖片</p>
			<input type="image" class="image-btn" id="rim-image" src="rim.png" >
			<br>
			<div class="upload">
				<li>上傳檔案</li>
				<input type='file' onchange="readURL(this);"><br><br>
				<li>圖片連結網址：</li>
				<div><input type="text"><button id="load-web-img">載入圖片</button></div>
			</div>
		</div>
		<br>
	
		<li>在點選狀態編輯物件：</li>	
		<div class='edit-area group'>
			
			<h2>文字內容：</h2><input type="text" id='text'></p>
			<p><button id="centerX">水平置中</button><button id="centerY">垂直置中</button></p>
			<p><button id="bringToFront">移至最上方</button><button id="sendToBack">移至最底層</button></p>
		</div>

		
		<button id="gen-btn" >產生圖案</button><br>
		
		<!--
		<div class="bottom-area">
			<label for="">下標1</label><input id='bottom-text1' class='bottom-text' type="text" value='文字'>
			<select class="font-size">
				<option value="40">小</option>
				<option value="80" selected>中</option>
				<option value="150">大</option>
			</select>
		</div>

		<button id="new" >新增下標</button>
		<button id="gen-btn" >產生圖案</button><br>
		-->
		<div class="auth">
		<p>分享內容：</p>
		<textarea name="" placeholder="建議加入#ONETAIWAN" id="message_area" cols="30" rows="10"></textarea>
		<p>建議在分享內容中加入hashtag: #ONETAIWAN</p>
		<p>可以讓更多人看到你製作的圖片喔</p>
		<button id="share-event-btn" >分享至FaceBook活動頁面</button><br>
		<button id="share-feed-btn" >分享至個人塗鴉牆</button><br>
		</div>


		
	</div>
	</td>
	<td>
	<div class="canvas-area">
		<canvas id="canvas" width="800" height="800"></canvas>
		<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
		<!-- horizontal -->
		<ins class="adsbygoogle"
		     style="display:inline-block;width:728px;height:90px"
		     data-ad-client="ca-pub-5054097744583766"
		     data-ad-slot="9216017937"></ins>
		<script>
		(adsbygoogle = window.adsbygoogle || []).push({});
		</script>
	</div>
	</td>
	</table>

</div>


<div class="hidden">
	<div class="bottom-text-template">
		<label for="bottom-text">下標</label><input class='bottom-text' type="text" value='文字'>
		<select class="font-size">
			<option value="40">小</option>
			<option value="80" selected>中</option>
			<option value="150">大</option>
		</select>
		<button class="remove-bottom"> 移除 </button>
	</div>
</div>
<div class="fb-comments" data-href="http://jerrypupu111.github.io" data-numposts="5"></div>
</body>


<script type="text/javascript">
var appId='1514218208899524';
var authToken;
window.fbAsyncInit = function() {
  FB.init({
    appId      : appId,
    xfbml      : true,
    version    : 'v2.5'
  });

};

function checklogin()
{
	FB.getLoginStatus(function(response) {
      if (response.status === 'connected') {
        // the user is logged in and has authenticated your
        // app, and response.authResponse supplies
        // the user's ID, a valid access token, a signed
        // request, and the time the access token 
        // and signed request each expire
        var uid = response.authResponse.userID;
        var accessToken = response.authResponse.accessToken;
        authToken = accessToken;
        console.log('success');
        $('.fb-login-button').remove();
        $('.auth').removeClass("auth");

      } else if (response.status === 'not_authorized') {
        // the user is logged in to Facebook, 
        // but has not authenticated your app
      } else {
        // the user isn't logged in to Facebook.
        FB.login(function(response) {
		    if (response.authResponse) {
		    	//checklogin();
		    	authToken = response.authResponse.accessToken;
		    	console.log('login success');
		    	$('.fb-login-button').remove();
		    	$('.auth').removeClass("auth");
		    } else {

		    }
		   },{
			    scope: 'publish_actions', 
			    return_scopes: true
			});
      }
     });
}

	(function(d, s, id){
	     var js, fjs = d.getElementsByTagName(s)[0];
	     if (d.getElementById(id)) {return;}
	     js = d.createElement(s); js.id = id;
	     js.src = "//connect.facebook.net/zh_TW/sdk.js";
	     fjs.parentNode.insertBefore(js, fjs);
	   }(document, 'script', 'facebook-jssdk'));
	</script>

	

</html>
